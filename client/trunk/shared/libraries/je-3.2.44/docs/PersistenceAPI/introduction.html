<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chapter 1. Introduction</title>
    <link rel="stylesheet" href="gettingStarted.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.62.4" />
    <link rel="home" href="index.html" title="Getting Started with the Berkeley DB, Java Edition&#10;                  Direct Persistence Layer" />
    <link rel="up" href="index.html" title="Getting Started with the Berkeley DB, Java Edition&#10;                  Direct Persistence Layer" />
    <link rel="previous" href="preface.html" title="Preface" />
    <link rel="next" href="bytecodee.html" title="Bytecode Enhancement" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Chapter 1. Introduction</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="preface.html">Prev</a> </td>
          <th width="60%" align="center"> </th>
          <td width="20%" align="right"> <a accesskey="n" href="bytecodee.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="chapter" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a id="introduction"></a>Chapter 1. Introduction</h2>
          </div>
        </div>
        <div></div>
      </div>
      <div class="toc">
        <p>
          <b>Table of Contents</b>
        </p>
        <dl>
          <dt>
            <span class="sect1">
              <a href="introduction.html#java15_features">Java 1.5 Features</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="bytecodee.html">Bytecode Enhancement</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="libdepend.html">Library Dependencies</a>
            </span>
          </dt>
        </dl>
      </div>
      <p>
          This document provides an introduction to the concepts and APIs
          used to store Java objects in Berkeley DB, Java Edition using the Direct Persistence Layer
          (DPL). The DPL is a layer on top of the Berkeley DB, Java Edition
          library, and as such it offers the same high-quality data guarantees
          as does JE.
  </p>
      <p>
        By using the DPL, you can cause any Java type to be
        persistent without implementing special interfaces. The only real
        requirement is that each persistent class have a default
        constructor.
  </p>
      <p>
        The DPL offers the following features:
  </p>
      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p>
                          Type safe, convenient way of accessing persistent
                          objects.
                  </p>
          </li>
          <li>
            <p>
                          No hand-coding of bindings is required.
                  </p>
          </li>
          <li>
            <p>
                          Bytecode enhancement provides fully optimized
                          bindings that do not use Java reflection.
                  </p>
          </li>
          <li>
            <p>
                          No external schema is required to define primary
                          and secondary keys. Java annotations are used to
                          define all metadata.
                  </p>
          </li>
          <li>
            <p>
                          Interoperability with external components is
                          supported using the Java collections framework.
                          Any index can be accessed using a standard 
                          <tt class="literal">java.util</tt> collection.
                  </p>
          </li>
          <li>
            <p>
                          Class evolution is explicitly supported. This
                          means you can add fields or widen types
                          automatically and transparently.
                  </p>
            <p>
                          You can also perform many incompatible class
                          changes, such as renaming fields or refactoring a
                          single class. This is done using a built-in
                          DPL mechanism called 
                          <span class="emphasis"><em>mutations</em></span>.
                          Mutations are automatically applied as data is
                          accessed so as to avoid downtime to convert large
                          databases during a software upgrade.
                  </p>
          </li>
          <li>
            <p>
                          Persistent class fields can be private,
                          package-private, protected or public. The
                          DPL can access persistence fields
                          either by bytecode enhancement or by reflection.
                  </p>
          </li>
          <li>
            <p>
                          The performance of the underlying JE
                          engine is safe-guarded. All
                          DPL operations are mapped directly to
                          the underlying APIs, object bindings are
                          lightweight, and all engine tuning parameters are
                          available.
                  </p>
          </li>
          <li>
            <p>
                          Java 1.5 generic types and annotations are
                          supported.
                  </p>
          </li>
          <li>
            <p>
                          Transactions can be used with the DPL.
                  </p>
          </li>
        </ul>
      </div>
      <p>
        Note that we recommend you use the DPL if all
        you want to do is make classes with a relatively static schema to
        be persistent. However, the DPL requires Java 1.5, so
        if you want to use Java 1.4 then you must use the Berkeley DB, Java Edition APIs.
  </p>
      <p>
        Further, if you are porting an application between
        Berkeley DB and Berkeley DB, Java Edition, then you should use the Berkeley DB, Java Edition APIs instead
        of the DPL APIs.  Additionally, if your application uses a
        highly dynamic schema, then you might want to use the Berkeley DB, Java Edition
        API instead of the DPL, although the use of annotations
        can weaken this recommendation to a degree.
  </p>
      <div class="sect1" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="java15_features"></a>Java 1.5 Features</h2>
            </div>
          </div>
          <div></div>
        </div>
        <p>
            The DPL makes use of two features that are specific
            to Java 1.5. 
            
          </p>
        <p>
                The Java 1.5 features used by the DPL are:
          </p>
        <div class="itemizedlist">
          <ul type="disc">
            <li>
              <p>
                                  Generic Types
                          </p>
              <p>
                                 These are used to provide type safety for
                                 index and cursor objects. If you want to
                                 use the DPL, and
                                 you are content to avoid this feature,
                                 do not declare your index and cursor
                                 objects using generic type parameters.
                          </p>
            </li>
            <li>
              <p>
                                  Annotations
                          </p>
              <p>
                                Annotations allow you to provide metadata
                                about your classes. In particular, you use
                                annotations to identify whether a class is
                                an entity or persistent class. You also use
                                annotations to declare whether data members
                                are primary or secondary keys.
                          </p>
              <p>
                                You do not have to use annotations. As an
                                alternative, you can provide an alternate
                                source of metadata by implementing an
                                <tt class="classname">EntityModel</tt>
                                class. Naming conventions, static members
                                or an XML configuration file can be used as
                                a source of metadata if you go this route.
                          </p>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="preface.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="index.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="bytecodee.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Preface </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> Bytecode Enhancement</td>
        </tr>
      </table>
    </div>
  </body>
</html>
